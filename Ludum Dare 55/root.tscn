[gd_scene load_steps=11 format=3 uid="uid://cloqedpwjuuck"]

[ext_resource type="Script" path="res://CharacterBody2D.cs" id="1_w6ins"]
[ext_resource type="Texture2D" uid="uid://djfcumo41rmp" path="res://assets/rooms/great hall.png" id="2_s7acj"]
[ext_resource type="Texture2D" uid="uid://c15dycfs1lsnj" path="res://wall-mask-internal.png" id="3_6567p"]
[ext_resource type="Texture2D" uid="uid://b4wloyny1mol0" path="res://wall-mask-west.png" id="4_gpfmj"]
[ext_resource type="Texture2D" uid="uid://c8kpcciqdx0ln" path="res://bell.png" id="6_iayre"]
[ext_resource type="Script" path="res://QuestItem.cs" id="6_ki38s"]
[ext_resource type="Script" path="res://QuestTracker.cs" id="7_4escj"]

[sub_resource type="CircleShape2D" id="CircleShape2D_xt5pn"]

[sub_resource type="CircleShape2D" id="CircleShape2D_bt3iy"]
radius = 64.0

[sub_resource type="CircleShape2D" id="CircleShape2D_ep4fe"]
radius = 201.4

[node name="Root" type="Node2D"]
y_sort_enabled = true

[node name="Player" type="CharacterBody2D" parent="."]
unique_name_in_owner = true
z_index = 1
y_sort_enabled = true
scale = Vector2(4, 4)
motion_mode = 1
platform_on_leave = 2
script = ExtResource("1_w6ins")
Speed = 300.0

[node name="CollisionShape2D" type="CollisionShape2D" parent="Player"]
shape = SubResource("CircleShape2D_xt5pn")

[node name="Camera2D" type="Camera2D" parent="Player"]
limit_smoothed = true
position_smoothing_enabled = true
drag_horizontal_enabled = true
drag_vertical_enabled = true
editor_draw_drag_margin = true

[node name="Polygon2D" type="Polygon2D" parent="Player"]
y_sort_enabled = true
color = Color(1, 0.337255, 1, 1)
polygon = PackedVector2Array(9, 15, -11, 16, -13, -15, 14, -13)

[node name="InteractionCircle" type="Area2D" parent="Player"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Player/InteractionCircle"]
shape = SubResource("CircleShape2D_bt3iy")

[node name="PlayerHand" type="Node2D" parent="Player"]
unique_name_in_owner = true

[node name="GreatHall" type="Node2D" parent="."]

[node name="LevelStaticBody" type="StaticBody2D" parent="GreatHall"]

[node name="InternalWalls" type="Sprite2D" parent="GreatHall/LevelStaticBody"]
visible = false
texture_filter = 1
position = Vector2(1542, -217)
scale = Vector2(1.11368, 1.11368)
texture = ExtResource("3_6567p")

[node name="WestWall" type="Sprite2D" parent="GreatHall/LevelStaticBody"]
visible = false
position = Vector2(1542, -217)
scale = Vector2(1.11368, 1.11368)
texture = ExtResource("4_gpfmj")

[node name="Floor" type="Sprite2D" parent="GreatHall/LevelStaticBody"]
texture_filter = 4
position = Vector2(-180, -63)
scale = Vector2(0.563229, 0.563229)
texture = ExtResource("2_s7acj")

[node name="Doors" type="Node2D" parent="GreatHall/LevelStaticBody/Floor"]
position = Vector2(-990.716, -1059.96)

[node name="Polygon2D" type="Polygon2D" parent="GreatHall/LevelStaticBody/Floor/Doors"]
scale = Vector2(0.44358, 1)
color = Color(0.552941, 0.184314, 0, 1)
offset = Vector2(1254.42, 1072.39)
polygon = PackedVector2Array(-1306.46, -1074.16, -1798.78, -1079.49, -1774.76, -1532.24, -1258.42, -1535.79, -1258.42, -1070.61)

[node name="Polygon2D2" type="Polygon2D" parent="GreatHall/LevelStaticBody/Floor/Doors"]
scale = Vector2(0.44358, 1)
color = Color(0.552941, 0.184314, 0, 1)
offset = Vector2(1789.17, 1079.49)
polygon = PackedVector2Array(-1306.46, -1074.16, -1777.16, -1077.71, -1774.76, -1532.24, -1258.42, -1535.79, -1258.42, -1070.61)

[node name="Polygon2D3" type="Polygon2D" parent="GreatHall/LevelStaticBody/Floor/Doors"]
scale = Vector2(1, 1)
color = Color(0.32549, 0.0980392, 0.0470588, 1)
offset = Vector2(987.165, 1072.39)
polygon = PackedVector2Array(-955.206, -1257.04, -928.574, -1253.49, -933.901, -1310.3, -956.982, -1313.85)

[node name="Polygon2D4" type="Polygon2D" parent="GreatHall/LevelStaticBody/Floor/Doors"]
scale = Vector2(1, 1)
color = Color(0.32549, 0.0980392, 0.0470588, 1)
offset = Vector2(903.718, 1074.16)
polygon = PackedVector2Array(-955.206, -1257.04, -928.574, -1253.49, -928.574, -1310.3, -956.982, -1313.85)

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="GreatHall/LevelStaticBody"]
position = Vector2(1542, -217)
scale = Vector2(1.11368, 1.11368)
polygon = PackedVector2Array(-1131.5, -1909.9, -1131.5, -1172, -1024.7, -1172, -1021.5, -1168.8, -1021.5, -1154.9, -1023.7, -1134, -1117.6, -1134, -1131.5, -1134.9, -1131.5, -319, -1169.5, -319, -1169.5, -365, -1425.5, -365, -1923.5, -366, -1923.5, -369, -1925.6, -404, -1922.5, -404, -1169.5, -406, -1169.5, -1885.1, -1166.5, -1909.2, -1166.5, -1912.1)

[node name="CollisionPolygon2D2" type="CollisionPolygon2D" parent="GreatHall/LevelStaticBody"]
position = Vector2(1542, -217)
scale = Vector2(1.11368, 1.11368)
polygon = PackedVector2Array(-752.5, -1909.9, -752.5, -1172, -148.5, -1172, -148.5, -1414.8, -128.5, -1417.3, -128.5, -1416, -113.5, -1416, -113.5, -1414.1, -110.5, -1412.1, -110.5, -639, -148.5, -639, -148.5, -1134, -896.3, -1134, -899.5, -1137.2, -899.5, -1141.1, -895.2, -1172, -789.5, -1172, -789.5, -1175, -788.5, -1909, -788.5, -1912.1)

[node name="CollisionPolygon2D3" type="CollisionPolygon2D" parent="GreatHall/LevelStaticBody"]
position = Vector2(1542, -217)
scale = Vector2(1.11368, 1.11368)
polygon = PackedVector2Array(-110.5, -1908.9, -110.5, -1663, -143.5, -1663, -143.5, -1664.6, -148.5, -1666.6, -148.5, -1908.2, -146.5, -1909.2, -146.5, -1911.1)

[node name="CollisionPolygon2D4" type="CollisionPolygon2D" parent="GreatHall/LevelStaticBody"]
position = Vector2(1542, -217)
scale = Vector2(1.11368, 1.11368)
polygon = PackedVector2Array(1424.5, -1908.9, 1424.5, -1540, 1421.7, -1540, 1394.5, -1537.8, 1394.5, -1539.5, 1386.5, -1541.4, 1386.5, -1908.2, 1388.5, -1909.2, 1388.5, -1911.1)

[node name="CollisionPolygon2D5" type="CollisionPolygon2D" parent="GreatHall/LevelStaticBody"]
position = Vector2(1542, -217)
scale = Vector2(1.11368, 1.11368)
polygon = PackedVector2Array(2420.5, -1908.1, 2420.5, -1388, 2411.5, -1388, 2411.5, -1391, 2413.5, -1908, 2413.5, -1910.2, 2415.6, -1911.3)

[node name="CollisionPolygon2D6" type="CollisionPolygon2D" parent="GreatHall/LevelStaticBody"]
position = Vector2(1542, -217)
scale = Vector2(1.11368, 1.11368)
polygon = PackedVector2Array(1424.5, -1287.9, 1424.5, -923, 1789.5, -922, 1789.5, -919, 1791.6, -885, 1788.5, -885, 1410.5, -883, 1410.5, -884.1, 1390.5, -885.1, 1390.5, -887, 1386.5, -890, 1386.5, -1287.2, 1388.5, -1288.2, 1388.5, -1290.1)

[node name="CollisionPolygon2D7" type="CollisionPolygon2D" parent="GreatHall/LevelStaticBody"]
position = Vector2(1542, -217)
scale = Vector2(1.11368, 1.11368)
polygon = PackedVector2Array(2418.5, -921, 2418.5, -918, 2420.6, -886, 2417.5, -886, 2335.5, -883, 2051.5, -883, 2051.5, -922)

[node name="CollisionPolygon2D8" type="CollisionPolygon2D" parent="GreatHall/LevelStaticBody"]
position = Vector2(1542, -217)
scale = Vector2(1.11368, 1.11368)
polygon = PackedVector2Array(-2171.5, -403, -2169.3, -374, -2171.3, -374, -2175.3, -366, -2355.5, -366, -2417.5, -365, -2417.5, -368, -2419.6, -403, -2416.7, -403, -2401.5, -404.8, -2401.5, -406, -2171.5, -406)

[node name="CollisionPolygon2D9" type="CollisionPolygon2D" parent="GreatHall/LevelStaticBody"]
position = Vector2(1542, -217)
scale = Vector2(1.11368, 1.11368)
polygon = PackedVector2Array(-110.5, -392.8, -110.5, -135.9, -111.7, -122, -113.6, -122, -126.7, -110, -363.5, -110, -363.5, -108, -365.5, 125, -399.5, 125, -401.5, -110, -1153, -110, -1160.5, -113.8, -1160.5, -118, -1164.3, -118, -1170.5, -124.2, -1170.5, -143, -1169.4, -143, -1167.4, -198, -1133.6, -198, -1131.6, -148, -148.5, -148, -148.5, -391.8, -130.5, -393.8, -130.5, -395.3)

[node name="CollisionPolygon2D10" type="CollisionPolygon2D" parent="GreatHall/LevelStaticBody"]
position = Vector2(1542, -217)
scale = Vector2(1.11368, 1.11368)
polygon = PackedVector2Array(-363.5, 376.2, -363.5, 612, -132.4, 612, -116.5, 613.1, -116.5, 615.5, -109.5, 625.4, -109.5, 628, -108.5, 1394, -111.4, 1394, -144.5, 1396.1, -144.5, 1394.1, -147.5, 1392.1, -147.5, 1377, -146.5, 653, -363.5, 653, -651.5, 650, -651.5, 640.9, -647.2, 612, -401.5, 612, -401.5, 375.8, -399.5, 374.8, -399.5, 372.8)

[node name="CollisionPolygon2D11" type="CollisionPolygon2D" parent="GreatHall/LevelStaticBody"]
position = Vector2(1542, -217)
scale = Vector2(1.11368, 1.11368)
polygon = PackedVector2Array(-892.5, 614, -892.5, 630.1, -895.8, 653, -1118.6, 653, -1133.5, 652.1, -1133.5, 701, -1134.5, 1901, -1169.5, 1901, -1171.5, 915, -1922.4, 915, -1924.6, 878, -1921.5, 878, -1172.5, 877, -1171.5, 650, -1170.4, 650, -1168.4, 618, -1166.6, 618, -1163.6, 613, -1158.5, 613, -1158.5, 612)

[node name="CollisionPolygon2D12" type="CollisionPolygon2D" parent="GreatHall/LevelStaticBody"]
position = Vector2(1542, -217)
scale = Vector2(1.11368, 1.11368)
polygon = PackedVector2Array(894.5, 619, 898.7, 655, 895.5, 655, 655.5, 656, 654.5, 894, 651.8, 894, 641.8, 897, 618.5, 897, 618.5, 894, 616.5, 634, 617.5, 634, 617.5, 630, 619.9, 630, 621.5, 628.9, 621.5, 621, 623.4, 621, 625.4, 618, 629.2, 618, 633.5, 617.3, 633.5, 616, 894.5, 616)

[node name="CollisionPolygon2D13" type="CollisionPolygon2D" parent="GreatHall/LevelStaticBody"]
position = Vector2(1542, -217)
scale = Vector2(1.11368, 1.11368)
polygon = PackedVector2Array(1029.8, 621.8, 1028.7, 624, 1020.5, 624, 1020.5, 618.8, 1022.5, 617.8, 1022.5, 616.6, 1025.2, 615.6)

[node name="CollisionPolygon2D14" type="CollisionPolygon2D" parent="GreatHall/LevelStaticBody"]
position = Vector2(1542, -217)
scale = Vector2(1.11368, 1.11368)
polygon = PackedVector2Array(1924.5, 618, 1924.5, 657, 1899.5, 657, 1676.5, 656, 1676.5, 658, 1674.5, 1418, 1672.3, 1418, 1661.3, 1428, 1659.6, 1428, 1655.7, 1429, 909.5, 1429, 909.5, 1426, 907.4, 1393, 910.5, 1393, 996.5, 1390, 997.5, 1390, 1637.5, 1391, 1637.5, 656, 1529.5, 656, 1529.5, 616)

[node name="CollisionPolygon2D15" type="CollisionPolygon2D" parent="GreatHall/LevelStaticBody"]
position = Vector2(1542, -217)
scale = Vector2(1.11368, 1.11368)
polygon = PackedVector2Array(2418.5, 619, 2420.6, 655, 2417.5, 655, 2173.5, 657, 2173.5, 616, 2418.5, 616)

[node name="CollisionPolygon2D16" type="CollisionPolygon2D" parent="GreatHall/LevelStaticBody"]
position = Vector2(1542, -217)
scale = Vector2(1.11368, 1.11368)
polygon = PackedVector2Array(-2173.5, 877.9, -2170.5, 879.9, -2170.5, 901, -2169.3, 913, -2172.5, 913, -2417.5, 915, -2417.5, 877, -2372.5, 877, -2372.5, 876, -2173.5, 876)

[node name="CollisionPolygon2D17" type="CollisionPolygon2D" parent="GreatHall/LevelStaticBody"]
position = Vector2(1542, -217)
scale = Vector2(1.11368, 1.11368)
polygon = PackedVector2Array(654.5, 1275.2, 654.5, 1390, 652.7, 1390, 649.7, 1396, 620.7, 1396, 617.5, 1392.8, 617.5, 1387, 618.5, 1275, 618.5, 1271.8)

[node name="CollisionPolygon2D18" type="CollisionPolygon2D" parent="GreatHall/LevelStaticBody"]
position = Vector2(1542, -217)
scale = Vector2(1.11368, 1.11368)
polygon = PackedVector2Array(42.5, -1906, -114.5, -1903, -144.5, -1903, -2411.5, -1904, -2411.5, -1357, -2413.5, 1894, -402.5, 1894, -402.5, 1396, -392.2, 1388, -369.5, 1388, -369.5, 1389.9, -367.9, 1391, -363.5, 1391, -143.5, 1388, -112.5, 1388, 40.5, 1390, 40.5, 1393, 42.5, 1676, 39.5, 1676, -112.5, 1678, -112.5, 2182.5, -117.3, 2192, -123.5, 2192, -2696.5, 2195, -2696.5, 2193.5, -2703.5, 2191.5, -2703.5, 2186, -2706.5, 2118, -2706.5, 2117, -2706.5, -2195, 42.5, -2195)

[node name="CollisionPolygon2D19" type="CollisionPolygon2D" parent="GreatHall/LevelStaticBody"]
polygon = PackedVector2Array(-888, 765, -586, 764, -591, 801, -885, 802)

[node name="CollisionPolygon2D20" type="CollisionPolygon2D" parent="GreatHall/LevelStaticBody"]
position = Vector2(1426, -293)
polygon = PackedVector2Array(-888, 765, -586, 764, -591, 801, -885, 802)

[node name="CollisionPolygon2D21" type="CollisionPolygon2D" parent="GreatHall/LevelStaticBody"]
polygon = PackedVector2Array(1099, -101, 1096, 214, 1134, 212, 1130, -104)

[node name="CollisionPolygon2D22" type="CollisionPolygon2D" parent="GreatHall/LevelStaticBody"]
polygon = PackedVector2Array(247, -579, 244, -425, 276, -429, 276, -587)

[node name="CollisionPolygon2D23" type="CollisionPolygon2D" parent="GreatHall/LevelStaticBody"]
polygon = PackedVector2Array(-584, -627, -886, -626, -886, -666, -589, -663)

[node name="UIOnCamera" type="CanvasLayer" parent="."]
visible = false

[node name="PauseMenu" type="Control" parent="UIOnCamera"]
process_mode = 2
top_level = true
layout_mode = 3
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
grow_horizontal = 2
grow_vertical = 2

[node name="VBoxContainer" type="VBoxContainer" parent="UIOnCamera/PauseMenu"]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -65.5
offset_top = -50.5
offset_right = 65.5
offset_bottom = 50.5
grow_horizontal = 2
grow_vertical = 2

[node name="Continue" type="Button" parent="UIOnCamera/PauseMenu/VBoxContainer"]
layout_mode = 2
text = "Return to Game"

[node name="Menu" type="Button" parent="UIOnCamera/PauseMenu/VBoxContainer"]
layout_mode = 2
text = "Quit to Menu"

[node name="Quit" type="Button" parent="UIOnCamera/PauseMenu/VBoxContainer"]
layout_mode = 2
text = "Quit to Desktop"

[node name="HUD" type="Control" parent="UIOnCamera"]
layout_mode = 3
anchors_preset = 0

[node name="UIOnWorld" type="CanvasLayer" parent="."]

[node name="MooseHead" type="Node2D" parent="."]
position = Vector2(-211, -834)

[node name="TestItem2" type="Polygon2D" parent="."]
position = Vector2(-966, 211)
offset = Vector2(404, -87)
polygon = PackedVector2Array(-438, 85, -406, 102, -376, 102, -370, 80, -386, 67, -433, 71)
script = ExtResource("6_ki38s")
QuestTaskType = 1

[node name="Area2D" type="Area2D" parent="TestItem2"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="TestItem2/Area2D"]
shape = SubResource("CircleShape2D_ep4fe")

[node name="Bell" type="Sprite2D" parent="."]
position = Vector2(1254, -215)
texture = ExtResource("6_iayre")

[node name="Bell2" type="Sprite2D" parent="."]
position = Vector2(1587, -150)
texture = ExtResource("6_iayre")

[node name="QuestItem" type="Node2D" parent="Bell2"]
script = ExtResource("6_ki38s")

[node name="Node2D2" type="Node2D" parent="Bell2"]

[node name="TomatoOnPainting" type="Sprite2D" parent="."]
visible = false
position = Vector2(78, -832)

[node name="SplatQuestItem" type="Node2D" parent="TomatoOnPainting"]
script = ExtResource("6_ki38s")

[node name="QuestTracker" type="Node2D" parent="."]
unique_name_in_owner = true
script = ExtResource("7_4escj")

[connection signal="area_entered" from="Player/InteractionCircle" to="Player" method="OnAreaEntered"]
[connection signal="area_exited" from="Player/InteractionCircle" to="Player" method="OnAreaExited"]
